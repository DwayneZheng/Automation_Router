*** Settings ***
Documentation     Dateï¼š2017/12/12
Suite Setup       ElementLocator-DIR-878
Force Tags        DKP1611011
Resource          ../AllResources.txt
Library           String

*** Test Cases ***
0001
    [Documentation]    Internet Connection Check
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0001
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginWithoutPassword
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    10    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    sleep    3s

0003
    [Documentation]    Internet_DHCP WAN Connection_Release IP Button Check
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0003
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginWithoutPassword
    click    ${Home Page-RenewReleaseIPAddress-Click}
    sleep    20s
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    ${Reverse-Result}    defping    0    ${GetDefault Gateway}    default    default    default
    ...    default    default
    Run Keyword If    "${Reverse-Result}"=="False"    log    FunctionPass
    ...    ELSE    log    FunctionFail    Should Be True    False

0004
    [Documentation]    Internet_DHCP WAN Connection_Renew IP Button Check (Runnig after 0003 and remove restore function)
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0004
    ToLoginWithoutPassword
    click    ${Home Page-RenewReleaseIPAddress-Click}
    sleep    20s
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    ${Reverse-Result}    defping    0    ${GetDefault Gateway}    default    default    default
    ...    default    default
    Should Be True    ${Reverse-Result}

0005
    [Documentation]    Internet _DHCP WAN Connection_Go to settings button Check
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0005
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    waitElementDisplayed    ${Home Page-Go to settings (V4)-Click}    10    true
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-DHCP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-DHCP}"=="Dynamic IP (DHCP)"

0027
    [Documentation]    Internet _PPPoE WAN Connection_Go to settings button check
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0027
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure PPPoE
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    click    ${Home Page-Go to settings (V4)-Click}
    sleep    3s
    ${check-PPPOE}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-PPPOE}"=="PPPoE"

0028
    [Documentation]    Internet _Static IP WAN Connection_Go to settings button check \
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0028
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure StaticIP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Ping Gateway
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    click    ${Home Page-Go to settings (V4)-Click}
    sleep    3s
    ${check-Static IP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-Static IP}"=="Static IP"

0029
    [Documentation]    Internet _PPTP WAN Connection_Go to settings button check
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0029
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure PPTP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Ping IP
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-PPTP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-PPTP}"=="PPTP"

0030
    [Documentation]    Internet _L2TP WAN Connection_Go to settings button check
    ...
    ...    OK verify by Richard Wu 20171212
    [Tags]    DKP1611011-0030
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure L2TP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Ping IP
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-L2TP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-L2TP}"=="L2TP"

0006
    [Documentation]    80%
    ...    DUT status check
    [Tags]    DKP1611011-0006
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ToHiddenPage
    ${GetLANMAC}    getText    ${Hidden-Page-LAN MAC-GetVar}
    log    ${GetLANMAC}
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    click    ${Home Page-DUT-ImgClick}
    ${GetWifiStatus}    getText    ${Home Page-DUT-Wifi-Status-GetVar}
    log    ${GetWifiStatus}
    Run Keyword If    "${GetWifiStatus}"=="Enabled"    log    WifiStatus:Matched
    ...    ELSE    log    WifiStatus:Not Matched
    ${GetIPv6Status}    getText    ${Home Page-DUT-IPv6-DHCP-PD-GetVar}
    log    ${GetIPv6Status}
    Run Keyword If    "${GetIPv6Status}"=="Enabled"    log    IPv6Status:Matched
    ...    ELSE    log    IPv6Status:Not Matched
    ${GetIPv4MACStatus}    getText    ${Home Page-DUT-IPv4 -MAC Address-GetVar}
    log    ${GetIPv4MACStatus}
    Run Keyword If    "${GetLANMAC}"=="${GetIPv4MACStatus}"    log    LANMAC:Matched
    ...    ELSE    log    LANMAC:Not Matched
    ${GetDefault Gateway}    getText    ${Home Page-DUT-IPv4-Router IP Address-GetVar}
    log    ${GetDefault Gateway}
    ${GetPing}    defping    ${GetDefault Gateway}    -n    10    10
    Run Keyword If    "${GetPing}"=="True"    log    PingIPv4:Matched
    ...    ELSE    log    PingIPv4:Not Matched    Should Be True    False

0007
    [Documentation]    OK
    ...    DUT_LAN connection_Go to settings button check
    [Tags]    DKP1611011-0007
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    click    ${Home Page-DUT-ImgClick}
    click    ${Home Page-Go to settings (Network)-Click}
    ${GetTitleText}    getText    ${Settings-Network-Title-GetVar}
    log    ${GetTitleText}
    Run Keyword If    "${GetTitleText}"=="Network Settings"    log    Lanuage:Matched
    ...    ELSE    log    Lanuage:Not Matched    Should Be True    False

0008
    [Documentation]    OK
    ...    DUT_Wi-Fi connection_Go to settings button check
    [Tags]    DKP1611011-0008
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    click    ${Home Page-DUT-ImgClick}
    click    ${Home Page-Go to settings (WiFi)-Click}
    ${GetWifiTitleText}    getText    ${Settings-Wireless-Title-GetVar}
    log    ${GetWifiTitleText}
    Run Keyword If    "${GetWifiTitleText}"=="Wireless"    log    Lanuage:Matched
    ...    ELSE    log    Lanuage:Not Matched    Should Be True    False

0009
    [Documentation]    OK
    ...    Connection Clients check
    [Tags]    DKP1611011-0009
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    click    ${Home Page-Connected Clients(image)-Click}
    ${ClientsCount}    getText    ${Home Page-Connected Clients(character)-Click}
    log    ${ClientsCount}
    ${ClientsCountFor}    Evaluate    ${ClientsCount}+1
    : FOR    ${INDEX1}    IN RANGE    1    ${ClientsCountFor}
    \    click    ${Home Page-Connected Clients-Edit${INDEX1}-ImgClick}
    \    ${Clients-Vendor}    getText    ${Home Page-Connected Clients-Vendor-GetVar}
    \    log    ${Clients-Vendor}
    \    ${Clients-MAC Address}    getText    ${Home Page-Connected Clients-MAC Address-GetVar}
    \    log    ${Clients-MAC Address}
    \    ${Clients-IP Address}    getText    ${Home Page-Connected Clients-IP Address-GetVar}
    \    ${GetPing}    defping    ${Clients-IP Address}    -n    10    10
    \    Run Keyword If    "${GetPing}"=="True"    log    PingIPv4:Matched
    \    ...    ELSE    log    PingIPv4:Not Matched    Should Be True    False
    \    click    ${Settings - Wizard Page-X (Close)-Click}
    \    log    ${Clients-IP Address}

0010
    [Documentation]    OK
    ...    Connection Clients_Edit button check
    [Tags]    DKP1611011-0010
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    click    ${Home Page-Connected Clients(image)-Click}
    ${ClientsCount}    getText    ${Home Page-Connected Clients(character)-Click}
    log    ${ClientsCount}
    ${ClientsCountFor}    Evaluate    ${ClientsCount}+1
    : FOR    ${INDEX1}    IN RANGE    1    ${ClientsCountFor}
    \    click    ${Home Page-Connected Clients-Edit${INDEX1}-ImgClick}
    \    ${Clients-Name}    getText    ${Home Page-Connected Clients-Name-GetVar}
    \    log    ${Clients-Name}
    \    ${Clients-Vendor}    getText    ${Home Page-Connected Clients-Vendor-GetVar}
    \    log    ${Clients-Vendor}
    \    ${Clients-MAC Address}    getText    ${Home Page-Connected Clients-MAC Address-GetVar}
    \    log    ${Clients-MAC Address}
    \    ${Clients-IP Address}    getText    ${Home Page-Connected Clients-IP Address-GetVar}
    \    ${GetPing}    defping    ${Clients-IP Address}    -n    10    10
    \    Run Keyword If    "${GetPing}"=="True"    log    PingIPv4:Matched
    \    ...    ELSE    log    PingIPv4:Not Matched    Should Be True    False
    \    click    ${Settings - Wizard Page-X (Close)-Click}
    \    log    ${Clients-IP Address}

0018
    [Documentation]    Not USB port
    ...    USB device check
    [Tags]    DKP1611011-0018

0019
    [Documentation]    OK
    ...    Internet Connected_PPPoE Check
    [Tags]    DKP1611011-0019
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure PPPoE
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Dynamic IP (PPPoE)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    sleep    3s
    ${check-PPPOE}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-PPPOE}"=="PPPoE"

0020
    [Documentation]    90%
    ...    Internet Disconnected_PPPoE Check
    ...    But click button of "Release IP Address" replace unplugging WAN connection.
    [Tags]    DKP1611011-0020
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure PPPoE
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Dynamic IP (PPPoE)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    sleep    3s
    ${check-PPPOE}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-PPPOE}"=="PPPoE"
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    10    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Manual-SelectChild}    10    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Manual-SelectChild}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Save-Click}    10    true
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    60    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    ToLoginWithoutPassword
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    ${Reverse-Result}    defping    8.8.8.8    \    \    0
    Run Keyword If    "${Reverse-Result}"=="False"    log    FunctionPass
    ...    ELSE    log    FunctionFail    Should Be True    False
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetNetwork Status(IPv4)}"=="Disconnected"

0021
    [Documentation]    OK
    ...    Internet Connected_Static IP Check
    [Tags]    DKP1611011-0021
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure StaticIP
    #Setting staticIP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    ${GetDefault Gateway}    -n    4    0
    #Ping Gateway
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Static IP (Static)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    sleep    3s
    ${check-Static IP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-Static IP}"=="Static IP"

0023
    [Documentation]    OK
    ...    Internet Connected_PPTP Check
    [Tags]    DKP1611011-0023
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure PPTP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${Get-Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${Get-Gateway}
    Def-Ping    ${Get-Gateway}    -n    4    0
    #Ping IP
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Dynamic IP (PPTP)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-PPTP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-PPTP}"=="PPTP"

0024
    [Documentation]    90%
    ...    Internet Disconnected_PPTP Check
    ...    But click button of "Release IP Address" replace unplugging WAN connection.
    [Tags]    DKP1611011-0024
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure PPTP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${Get-Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${Get-Gateway}
    Def-Ping    ${Get-Gateway}    -n    4    0
    #Ping IP
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Dynamic IP (PPTP)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-PPTP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-PPTP}"=="PPTP"
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    10    TRUE
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Manual-SelectChild}    10    TRUE
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Manual-SelectChild}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Save-Click}    10    TRUE
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    60    TRUE
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    ToLoginWithoutPassword
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    ${Reverse-Result}    defping    8.8.8.8    \    \    0
    Run Keyword If    "${Reverse-Result}"=="False"    log    FunctionPass
    ...    ELSE    log    FunctionFail    Should Be True    False
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetNetwork Status(IPv4)}"=="Disconnected"

0025
    [Documentation]    OK
    ...    Internet Connected_L2TP Check
    [Tags]    DKP1611011-002
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure L2TP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${Get-Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${Get-Gateway}
    Def-Ping    ${Get-Gateway}    -n    4    0
    #Ping IP
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Dynamic IP (L2TP)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-L2TP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-L2TP}"=="L2TP"

0026
    [Documentation]    90%
    ...    Internet Disconnected_L2TP Check
    ...    But click button of "Release IP Address" replace unplugging WAN connection.
    [Tags]    DKP1611011-0026
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #Restore
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    Configure L2TP
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${Get-Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${Get-Gateway}
    Def-Ping    ${Get-Gateway}    -n    4    0
    #Ping IP
    ${GetConnection Type(IPv4)}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    log    ${GetConnection Type(IPv4)}
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetConnection Type(IPv4)}"=="Dynamic IP (L2TP)"
    Should Be True    "${GetNetwork Status(IPv4)}"=="Connected"
    click    ${Home Page-Go to settings (V4)-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}    10    true
    ${check-L2TP}    getText    ${Settings-Internet-IPv4-DHCP-My Internet Connection is-GetVar}
    Should Be True    "${check-L2TP}"=="L2TP"
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    10    TRUE
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Manual-SelectChild}    10    TRUE
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Manual-SelectChild}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Save-Click}    10    TRUE
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    60    TRUE
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    ToLoginWithoutPassword
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    ${Reverse-Result}    defping    8.8.8.8    \    \    0
    Run Keyword If    "${Reverse-Result}"=="False"    log    FunctionPass
    ...    ELSE    log    FunctionFail    Should Be True    False
    ${GetNetwork Status(IPv4)}    getText    ${Home Page-Network Status(IPv4)-GetVar}
    log    ${GetNetwork Status(IPv4)}
    Should Be True    "${GetNetwork Status(IPv4)}"=="Disconnected"
