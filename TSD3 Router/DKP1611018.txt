*** Settings ***
Suite Setup       ElementLocator-DIR-878
Force Tags        DKP1611018
Resource          ../AllResources.txt
Library           String

*** Test Cases ***
0046
    [Documentation]    Internet->IPv4 PPPoE Always on + Dynamic IP test + MTU(Auto) + Mac Address Clone(enable)
    ...
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...
    ...
    ...    2.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...
    ...    OK verify by Richard Wu 20171213
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    #setting Dynamic IP
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    #Setting MAC Address clone
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    #Check MAC \ Address
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    Should Be True    "${After MAC Address}"=="${Finish MAC Address}"
    Run Keyword If    "${Before MAC Address}"=="${Finish MAC Address}"    Should Be True    False
    ...    ELSE    log    pass
    ${Check mac}    MAC_Address    ${Finish MAC Address}
    Should Be True    ${Check mac}
    #===Check MAC \ Address END===
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1400
    Def-Ping    0    8.8.8.8    -f    -l    1464
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1465
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0047
    [Documentation]    Internet->IPv4 PPPoE Always on + Dynamic IP test + MTU(Auto) + Mac Address Clone(disable)
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...    1.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...    OK verify by Richard Wu 20171213
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    #setting Dynamic IP
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}    5    true
    clearText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}    #Remove MAC address clone
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    Should Be True    "${After MAC Address}"==""
    Should Be True    "${Before MAC Address}"=="${Finish MAC Address}"
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1400
    Def-Ping    0    8.8.8.8    -f    -l    1464
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1465
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0048
    [Documentation]    Internet->IPv4 PPPoE Always on + Dynamic IP test + MTU(Manual) + Mac Address Clone(enable)
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...
    ...
    ...    2.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    #setting Dynamic IP
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    1350
    click    xpath    //*[@id="copyright"]
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    #Setting MAC Address clone
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}    3    true
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    #Check MAC Address
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    Should Be True    "${After MAC Address}"=="${Finish MAC Address}"
    Run Keyword If    "${Before MAC Address}"=="${Finish MAC Address}"    Should Be True    False
    ...    ELSE    log    pass
    ${Check mac}    MAC_Address    ${Finish MAC Address}
    Should Be True    ${Check mac}
    #===Check MAC Address END===
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1300
    Def-Ping    0    8.8.8.8    -f    -l    1322
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1323
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0049
    [Documentation]    Internet->IPv4 PPPoE Always on + Dynamic IP test + MTU(Manual) + Mac Address Clone(disable)
    ...
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...    1.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...    OK verify by Richard Wu 20171213
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Dynamic IP-SelectChild}    #setting Dynamic IP
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    1350
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    Should Be True    "${After MAC Address}"==""
    Should Be True    "${Before MAC Address}"=="${Finish MAC Address}"
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1300
    Def-Ping    0    8.8.8.8    -f    -l    1322
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1323
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0050
    [Documentation]    Internet->IPv4 PPPoE Always on + Static IP test + MTU(Auto) + Mac Address Clone(enable)
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...    1.Capture wan packet to make sure DUT wan is using your MAC address
    ...
    ...    2.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...    第 32行環境問題，先關閉
    ...
    ...    第 68行 因為878設定固定ip會跑掉，所以先把判斷ip功能關閉
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    #choose Static IP
    clearText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}    10.2.75.175    #input static address
    ${Set IP Address}    getText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    #sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    8.8.8.8
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    #Setting MAC Address clone
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    ${Home page IP Address}    getText    ${Home Page-IP Address(IPv4)-GetVar}
    Should Be True    "${Set IP Address}"=="${Home page IP Address}"
    Should Be True    "${After MAC Address}"=="${Finish MAC Address}"
    Run Keyword If    "${Before MAC Address}"=="${Finish MAC Address}"    Should Be True    False
    ...    ELSE    log    pass
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1400
    Def-Ping    0    8.8.8.8    -f    -l    1464
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1465
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0051
    [Documentation]    Internet->IPv4 PPPoE Always on + Static IP test + MTU(Auto) + Mac Address Clone(disable)
    ...
    ...    ------------------------------------
    ...    1.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...    第 32行環境問題，先關閉
    ...
    ...    第 68行 因為878設定固定ip會跑掉，所以先把判斷ip功能關閉
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    #choose Static IP
    clearText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}    10.2.75.175    #input static address
    ${Set IP Address}    getText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    #sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    8.8.8.8
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Auto-SelectChild}    #Setting MTU
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    ${Home page IP Address}    getText    ${Home Page-IP Address(IPv4)-GetVar}
    #Should Be True    "${Set IP Address}"=="${Home page IP Address}"
    Should Be True    "${After MAC Address}"==""
    Should Be True    "${Before MAC Address}"=="${Finish MAC Address}"
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1400
    Def-Ping    0    8.8.8.8    -f    -l    1464
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1465
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0052
    [Documentation]    Internet->IPv4 PPPoE Always on + Static IP test + MTU(Manual) + Mac Address Clone(enable)
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...    1.Capture wan packet to make sure DUT wan is using your MAC address
    ...
    ...    2.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...    第 32行環境問題，先關閉
    ...
    ...    第 68行 因為878設定固定ip會跑掉，所以先把判斷ip功能關閉
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    #choose Static IP
    clearText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}    10.2.75.175    #input static address
    ${Set IP Address}    getText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    #sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    8.8.8.8
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    1350
    click    xpath    //*[@id="copyright"]
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Choose-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-var(1)-SelectChild}    #Setting MAC Address clone
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    ${Home page IP Address}    getText    ${Home Page-IP Address(IPv4)-GetVar}
    #Should Be True    "${Set IP Address}"=="${Home page IP Address}"
    Should Be True    "${After MAC Address}"=="${Finish MAC Address}"
    Run Keyword If    "${Before MAC Address}"=="${Finish MAC Address}"    Should Be True    False
    ...    ELSE    log    pass
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1300
    Def-Ping    0    8.8.8.8    -f    -l    1322
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1323
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0053
    [Documentation]    Internet->IPv4 PPPoE Always on + Static IP test + MTU(Manual) + Mac Address Clone(disable)
    ...
    ...    ------------------------------------
    ...    1.Capture DUT wan packet -> send PADI with "CHT" as service name
    ...    -------------------------------------
    ...    第 32行環境問題，先關閉
    ...
    ...    第 68行 因為878設定固定ip會跑掉，所以先把判斷ip功能關閉
    #Restore
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Before Change MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #Setting PPPOE
    Configure PPPoE-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Reconnect Mode-Always on-SelectChild}    #Reconnect mode = Always on
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Address Mode-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-Static IP-SelectChild}    #choose Static IP
    clearText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}    10.2.75.175
    ${Set IP Address}    getText    ${Settings-Internet-IPv4-PPPoE-IP Address-Input}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}
    #sendtext    ${Settings-Internet-IPv4-PPPoE-Service Name-Input}    CHT
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-Primary DNS Server-Input}    8.8.8.8
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    3    true
    clearText    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}
    sendtext    ${Settings-Internet-IPv4-PPPoE-MTU-Manual-Input-Input}    1350
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-PPPoE-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-PPPoE-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting PPPOE END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #Finish MAC Address
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    #Ping \ Gateway
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    ${Home page IP Address}    getText    ${Home Page-IP Address(IPv4)-GetVar}
    #Should Be True    "${Set IP Address}"=="${Home page IP Address}"
    Should Be True    "${After MAC Address}"==""
    Should Be True    "${Before MAC Address}"=="${Finish MAC Address}"
    #Ping MTU
    Def-Ping    0    8.8.8.8    -f    -l    1300
    Def-Ping    0    8.8.8.8    -f    -l    1322
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1323
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0001
    [Documentation]    Internet->IPv4 DHCP test
    ...
    ...    Critrntia not test in this case:
    ...
    ...    ------------------------------------
    ...    5.Capture wan packet to make sure DUT wan is using your MAC address
    ...    -------------------------------------
    ...
    ...    OK verify by Dwayne Cheng 20171214
    [Tags]    DKP1611018-0001
    #===Restore===
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #===Before Change MAC Address===
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Before MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Before Change MAC address END===
    #===Setting DHCP===
    Configure DHCP-Without Save
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-DHCP-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-DHCP-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Auto-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-DHCP-Auto-SelectChild}    #Setting MTU
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-MAC Address Clone-Choose-Select}    3    true
    click    ${Settings-Internet-IPv4-DHCP-MAC Address Clone-Choose-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-var(1)-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-DHCP-var(1)-SelectChild}    #Setting MAC Address clone
    ${After MAC Address}    getText    ${Settings-Internet-IPv4-DHCP-MAC Address Clone-Input}
    #save
    click    ${Settings-Internet-IPv4-DHCP-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting DHCP END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #===Finish MAC Address===
    waitElementDisplayed    ${Home Page-MAC Address(IPv4)-GetVar}    5    true
    ${Finish MAC Address}    getText    ${Home Page-MAC Address(IPv4)-GetVar}
    #===Finish MAC Address===
    ${Finish ConnectionType}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    Should Be True    "${Finish ConnectionType}"=="Dynamic IP (DHCP)"
    #===Ping \ Gateway===
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    #Check MAC \ Address
    log    ${Before MAC Address}
    log    ${After MAC Address}
    log    ${Finish MAC Address}
    Should Be True    "${After MAC Address}"=="${Finish MAC Address}"
    Run Keyword If    "${Before MAC Address}"=="${Finish MAC Address}"    Should Be True    False
    ...    ELSE    log    pass
    ${Check mac}    MAC_Address    ${Finish MAC Address}
    Should Be True    ${Check mac}
    #===Check MAC \ Address END===
    #===Ping MTU===
    Def-Ping    0    8.8.8.8    -f    -l    1400
    Def-Ping    0    8.8.8.8    -f    -l    1472
    ${Packet Fragmented}    defping    0    8.8.8.8    -f    -l    1473
    ...    default    default
    Should Be True    "${Packet Fragmented}"=="Packet needs to be fragmented but DF set"
    #===Ping MTU END===

0002
    [Documentation]    Internet->IPv4 DHCP DNS test
    [Tags]    DKP1611018-0002
    #===Restore===
    ToLoginWithoutPassword
    RestoreDevice
    waitElementDisplayed    ${Default- Wizard Page-X (Close)-Click}    20    true
    click    ${Default- Wizard Page-X (Close)-Click}
    waitElementDisplayed    ${Home Page-Home-FunctionTable}    40    true
    #===Restore END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    #===Setting DHCP===
    Configure DHCP-Without Save
    #===Configure DNS Server===
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-DHCP-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Primary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-DHCP-Primary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-DHCP-Primary DNS Server-Input}    1.1.1.1
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Secondary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-DHCP-Secondary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-DHCP-Secondary DNS Server-Input}    2.2.2.2
    #===Configure DNS Server End===
    #===Configure MTU===
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-MTU-Select}    3    true
    click    ${Settings-Internet-IPv4-DHCP-MTU-Select}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Manual-SelectChild}    3    true
    click    ${Settings-Internet-IPv4-DHCP-Manual-SelectChild}    #Setting MTU
    clearText    ${Settings-Internet-IPv4-DHCP-Manual-Input-Input}
    sendtext    ${Settings-Internet-IPv4-DHCP-Manual-Input-Input}    1400
    #===Configure MTU End===
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Host Name-Input}    3    true
    clearText    ${Settings-Internet-IPv4-DHCP-Host Name-Input}
    sendtext    ${Settings-Internet-IPv4-DHCP-Host Name-Input}    DUT model
    #save
    click    ${Settings-Internet-IPv4-DHCP-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Setting DHCP END===
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${Finish ConnectionType}    getText    ${Home Page-Connection Type(IPv4)-GetVar}
    Should Be True    "${Finish ConnectionType}"=="Dynamic IP (DHCP)"
    #===Ping \ Gateway===
    waitElementDisplayed    ${Home Page-Default Gateway(IPv4)-GetVar}    20    true
    ${GetDefault Gateway}    getText    ${Home Page-Default Gateway(IPv4)-GetVar}
    log    ${GetDefault Gateway}
    Def-Ping    0    ${GetDefault Gateway}
    #===Ping END===
    #===Ping MTU===
    ${CheckMTU1300}    defping    0    8.8.8.8    -f    -l    1300
    ...    default    default
    Should Be True    "${CheckMTU1300}"=="False"
    ${CheckMTU1372}    defping    0    8.8.8.8    -f    -l    1372
    ...    default    default
    Should Be True    "${CheckMTU1372}"=="False"
    #===Configure DNS Server===
    FunctionTable-Settings-Internet
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Advanced Settings...-Click}    3    true
    click    ${Settings-Internet-IPv4-DHCP-Advanced Settings...-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Primary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-DHCP-Primary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-DHCP-Primary DNS Server-Input}    1.1.1.1
    waitElementDisplayed    ${Settings-Internet-IPv4-DHCP-Secondary DNS Server-Input}    3    true
    clearText    ${Settings-Internet-IPv4-DHCP-Secondary DNS Server-Input}
    sendtext    ${Settings-Internet-IPv4-DHCP-Secondary DNS Server-Input}    8.8.8.8
    #save
    click    ${Settings-Internet-IPv4-DHCP-Save-Click}
    waitElementDisplayed    ${Settings-Internet-IPv4-StaticIP-Finish-Click}    40    true
    click    ${Settings-Internet-IPv4-StaticIP-Finish-Click}
    sleep    3s
    #===Configure DNS Server End===
    ${CheckMTU1373}    defping    0    8.8.8.8    -f    -l    1473
    ...    default    default
    Should Be True    "${CheckMTU1373}"=="True"
    #===Ping MTU END===

0003
    [Tags]    DKP1611018-0003

0004
    [Tags]    DKP1611018-0004

0005
    [Tags]    DKP1611018-0005

0011
    [Tags]    DKP1611018-0011

0012
    [Tags]    DKP1611018-0012

0015
    [Tags]    DKP1611018-0015

0017
    [Tags]    DKP1611018-0017

0018
    [Tags]    DKP1611018-0018

0019
    [Tags]    DKP1611018-0019

0021
    [Tags]    DKP1611018-0021

0022
    [Tags]    DKP1611018-0022

0024
    [Tags]    DKP1611018-0024

0025
    [Tags]    DKP1611018-0025

test1
    ToLoginPage
    Lang2English
    ToClickLoginBtn
    ${abc}    getText    xpath    //*[@id="h_FWVersion"]
    waitElementDisplayed    ${Settings - Internet - VLAN-Settings-FunctionTable}    10    true
    mouseOverToElement    ${Settings - Internet - VLAN-Settings-FunctionTable}
    waitElementDisplayed    ${Settings - Internet - VLAN-Internet-FunctionTableChild}    10    true
    click    ${Settings - Internet - VLAN-Internet-FunctionTableChild}
    #46tmp
    ${Error Ping}    defping    0    8.8.8.8    -f    -l    1465
    ...    default    default
    Run Keyword If    "${Error Ping}"=="False"    log    FunctionPass
    ...    ELSE    log    FunctionFail    Should Be True
